<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo de modulos en Javascript</title>
    <link rel="stylesheet" href="estilos.css">
    <script type="module" src="main.js"></script>
</head>
<body>
    <h1>Módulos en Javascript</h1>
    <div class="container">
   
   <p>Un módulo es solo un archivo. Un script es un módulo.</p>
   <p>Los módulos permiten dividir en múltiples archivos que pueden contener una
      clase o una biblioteca de funciones para un propósito específico.</p>  
      
   <p>
    Los módulos pueden cargarse entre sí y usar directivas especiales export e import para intercambiar funcionalidad, llamar a funciones de un módulo de otro:</p>

        <ul>
        <li>La palabra clave <span class="palReservada">export</span> etiqueta las variables y funciones que deberían ser accesibles desde fuera del módulo actual.</li>
        <li><span class="palReservada">import</span> permite importar funcionalidades desde otros módulos.</li>    
    </ul>

   
   <code>
      <p>
        <span class="linea">// gestionCursos.js</span>  
        <span class="linea"><span class="palReservada">export</span> function mostrarCursos(cursos){</span> 
        <span class="linea tabulador">// funcionalidad de la función</span> 
        <span class="linea"> }</span>
      </p>
   </code>

   <code>
      <p>
          <span class="linea">// main.js</span>
          <span class="linea"> <span class="palReservada">import</span> {mostrarCursos} from './gestionCursos.js';</span>
          <span class="linea"> mostrarCursos(cursos); </span>
          
      </p>
   </code>
   <p>El navegador busca y evalúa automáticamente el módulo importado (y sus importaciones si es necesario), y luego ejecuta el script.</p>
   <p>Cada módulo tiene su propio alcance de nivel superior. En otras palabras, las variables y funciones de nivel superior de un módulo no se ven en otros scripts.</p>
   <p>Los módulos deben hacer export a lo que ellos quieren que esté accesible desde afuera y hacer import de lo que necesiten.</p>
   <p>Se puede hacer que una variable sea global a nivel window si explícitamente se le asigna la propiedad window, por ejemplo window.user = "John". Así todos los scripts la verán, con o sin type="module". Sin embargo, no es buena práctica utilizar variables globales.</p>
   <p>Si el mismo módulo se importa en varios otros módulos, su código se ejecuta solo una vez, en el primer import. Luego, sus exportaciones se otorgan a todos los importadores que siguen.</p>
   <p>Existe una regla: el código de módulos del nivel superior debe ser usado para la inicialización y creación de estructuras de datos internos específicos del módulo. Si se requiere algo que pueda ser llamado varias veces debemos exportarlo como una función, como hicimos con el sayHi de arriba.</p>
   <p>En otras palabras, un módulo puede brindar una funcionalidad genérica que necesite ser configurada. Por ejemplo, la función calcularTotalPago requiere el listado de cursos seleccionados y el usuario que realizó la selección. Entonces se puede exportar la función esperando que el código externo se lo asigne.</p>

   <p>Para ver el resultado de la ejecución del ejemplo del código base de la práctica implementado como un módulo, debe abrir la consola en el inspector del navegador</p>
   <p>Como los módulos admiten palabras clave y características especiales, se debe indicar al momento de asociar el script del módulo en HTML que debe ser tratado como un módulo, utilizando el atributo <span class="palReservada">type ="module"</span> en la etiqueta <span class="palReservada">script</span> .</p>
</div>   
</body>
</html>